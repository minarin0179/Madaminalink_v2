# ユースケース

Madaminalinkの実践的な活用例を紹介します。マーダーミステリーゲームの運営を中心に、様々なシーンでの使い方を解説します。

## 📋 目次

- [基本的なゲーム運営](#基本的なゲーム運営)
- [キャラクター選択と配役](#キャラクター選択と配役)
- [複数公演の管理](#複数公演の管理)
- [投票と推理フェーズ](#投票と推理フェーズ)
- [ゲーム終了後のアーカイブ](#ゲーム終了後のアーカイブ)
- [その他の応用例](#その他の応用例)

---

## 基本的なゲーム運営

### シナリオ: 初めてのマーダーミステリー公演

**目標:** ゲーム用のサーバー環境を1から構築する

#### ステップ1: 基本環境の構築

```
/setup category-name:第1回公演 text-channels:全体連絡,個別相談,証拠提示 voice-channels:全体会議,個別1,個別2,個別3 roles:参加者,観覧者
```

**作成されるもの:**
- カテゴリ「第1回公演」
- テキストチャンネル: 全体連絡、個別相談、証拠提示
- ボイスチャンネル: 全体会議、個別1、個別2、個別3
- ロール: 参加者、観覧者（権限設定済み）

#### ステップ2: 開始時刻のリマインダー設定

```
/remind message:まもなくゲームを開始します！全体会議チャンネルに集合してください time:2024/12/25 19:55 role:@参加者
```

#### ステップ3: ゲーム中のダイス判定準備

各個別チャンネルにダイスボタンを配置：

```
/dice dice:2d6 message:調査判定 (目標値7以上)
/dice dice:1d20 message:運試し
```

**結果:** 参加者がボタンをクリックするだけで簡単にダイスを振れる環境が整います。

---

## キャラクター選択と配役

### シナリオ: 8人制マーダーミステリーのキャラクター配役

**目標:** 公平にキャラクターを選択させる

#### 方法1: 先着順方式

```
/role change roles:@探偵,@執事,@令嬢,@医師,@弁護士,@記者,@メイド,@庭師 message:キャラクターを選択してください（先着順）
```

**動作:**
- ドロップダウンメニューから希望キャラクターを選択
- 既に選ばれたロールは自動的に選択不可になる
- 全員が選び終わるまで変更可能

#### 方法2: 投票方式（希望調査）

```
/poll title:キャラクター希望調査 choices:探偵,執事,令嬢,医師,弁護士,記者,メイド,庭師 allow-change:true show-voters:true
```

**動作:**
- 各参加者が希望キャラクターに投票
- 重複希望がある場合はGMが調整
- `show-voters:true` で誰がどのキャラを希望したか確認可能

#### 方法3: ランダム配役

1. 順序リストをシャッフルで作成：
```
/order create title:配役順 members:@UserA,@UserB,@UserC,@UserD,@UserE,@UserF,@UserG,@UserH shuffle:true
```

2. 表示された順番で好きなキャラクターを選択

---

## 複数公演の管理

### シナリオ: 同じシナリオを複数回公演する

**目標:** 第1回公演の環境を第2回、第3回にも再利用する

#### ステップ1: 第1回公演のテンプレート作成

初回セットアップ：
```
/setup category-name:第1回公演-テンプレート text-channels:ルール説明,全体連絡,個別相談 voice-channels:全体会議,個別A,個別B
```

各チャンネルに必要な情報（ルール、シナリオ背景など）を投稿しておく。

#### ステップ2: 第2回公演用にコピー

```
/copy target:[第1回公演カテゴリのID] new-name:第2回公演 include-messages:true
```

**メリット:**
- チャンネル構成が完全に複製される
- ルールやシナリオ情報も自動コピー
- 権限設定も引き継がれる

#### ステップ3: 不要なメッセージのクリーンアップ

```
/cleanup channel:#個別相談
```

前回公演の相談ログだけを削除し、ルールなどの固定メッセージは残す。

---

## 投票と推理フェーズ

### シナリオ: 犯人投票の実施

**目標:** 公平で透明性のある投票を実施

#### フェーズ1: 一次投票

```
/poll title:犯人投票（第1回） choices:探偵,執事,令嬢,医師,弁護士,記者,メイド,庭師 allow-change:false show-voters:false
```

**設定理由:**
- `allow-change:false` - 投票のやり直しを防ぐ
- `show-voters:false` - 他の人の投票に影響されないようにする

#### フェーズ2: 結果の集計

投票終了後、「集計」ボタンをクリック：
```
探偵: 2票
執事: 3票
令嬢: 1票
医師: 2票
```

#### フェーズ3: 決選投票（同票の場合）

最多得票が複数いる場合、自動的に「決選投票」ボタンが表示されます。

```
決選投票: 執事 vs 医師
```

参加者は改めて投票し、最終的な犯人を決定します。

---

## ゲーム終了後のアーカイブ

### シナリオ: ゲーム終了後、記録を残しつつサーバーを整理

**目標:** チャンネルを削除せず、スレッドとして保管

#### ステップ1: カテゴリ全体をアーカイブ

```
/archive target:[第1回公演カテゴリのID]
```

**処理内容:**
1. 「📚アーカイブ」チャンネルが自動作成される
2. カテゴリ内の各チャンネルが個別のスレッドに変換
3. 全メッセージ履歴がスレッドにコピーされる
4. 添付ファイルも保持される

#### ステップ2: 元のカテゴリとチャンネルを削除

アーカイブが完了したら、元のカテゴリを削除：

```
/delete category:[第1回公演カテゴリのID]
```

**結果:**
- サーバーがすっきりする
- 過去のゲーム記録はスレッドで検索・閲覧可能
- ディスク容量の節約

---

## その他の応用例

### 1. セッション中のメンバー管理

#### 遅刻者の途中参加

待機室から全体会議に移動：

```
/gather from-channel:待機室
```

実行すると、待機室にいる全員が自分のボイスチャンネルに移動します。

#### 参加者ロールの一括付与

```
/role add role:@参加者 message:参加者ロールを受け取る
```

チャンネルに投稿し、参加者にボタンをクリックしてもらう。

---

### 2. メッセージ転送による情報共有

#### 秘密情報の個別配布

1. GM専用チャンネルで情報を作成
2. 各プレイヤーの個別チャンネルに転送

```
/transfer from:[メッセージID] destination:#個別チャンネルA
/transfer from:[メッセージID] destination:#個別チャンネルB
```

---

### 3. 発言順の管理

#### ディベートフェーズの進行

```
/order create title:発言順 members:@UserA,@UserB,@UserC,@UserD,@UserE shuffle:false
```

**活用方法:**
- GMが指定した順番で発言
- 全員の発言が終わったら次のフェーズへ
- 順序リストをピン留めして常に確認可能

---

### 4. 定期公演の運営

#### 毎週公演のテンプレート管理

1. マスターテンプレートを `/copy` で複製
2. 日付ごとに新しいカテゴリを作成
3. 終了後は `/archive` でスレッド化
4. 月ごとにアーカイブをまとめて整理

**ファイル構造例:**
```
📁 サーバー
├── 📁 テンプレート（マスター）
├── 📁 今週の公演
├── 📚 12月アーカイブ
│   ├── 🧵 12/1 第1回公演
│   ├── 🧵 12/8 第2回公演
│   └── 🧵 12/15 第3回公演
└── 📚 1月アーカイブ
```

---

### 5. ニックネーム管理

#### ゲーム中のロールプレイ用ニックネーム

ゲーム開始前に各プレイヤーがキャラクター名にニックネームを変更。

ゲーム終了後、一括リセット：

```
/rename
```

全員のニックネームが元のユーザー名に戻ります。

---

## 🎯 ベストプラクティス

### 事前準備チェックリスト

- [ ] `/setup` でチャンネル構成を作成
- [ ] 各チャンネルにルールや背景情報を投稿
- [ ] `/role change` でキャラクター選択準備
- [ ] `/remind` で開始時刻のリマインダー設定
- [ ] `/dice` ボタンを必要な場所に配置
- [ ] 権限設定の確認（`/sync` で同期）

### ゲーム進行中のポイント

- 重要な判定には `/poll` を活用
- 秘密情報は `/transfer` で個別配布
- 発言順は `/order` で管理
- 遅刻者は `/gather` で招集

### 終了後の整理

- `/archive` でゲーム記録を保存
- `/delete` で不要なカテゴリを削除
- `/rename` でニックネームをリセット
- フィードバック用の `/poll` で満足度調査

---

## 💡 応用アイデア

### TRPG セッションでの利用

- `/dice` で各種判定用ダイスを配置
- `/order` でイニシアチブ管理
- `/log get` でセッションログを自動保存

### オンライン人狼ゲーム

- `/setup` で昼フェーズ・夜フェーズのチャンネル作成
- `/poll` で処刑投票
- `/gather` で生存者のみを集合

### コミュニティイベント

- `/poll` で企画案の投票
- `/remind` でイベントリマインダー
- `/role add` で参加者募集

---

## 📖 関連ドキュメント

- [コマンドリファレンス](./commands-reference.md) - 各コマンドの詳細な使い方
- [よくある質問](./faq.md) - トラブルシューティング
